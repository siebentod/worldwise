const apiKey =
  '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';

let TAGS;

let TITLE = 'Как должна быть устроена экономика по Марксу';

let TEXT = `Экономические идеи Карла Маркса коренятся в его историко-материалистическом подходе, согласно которому **способ производства материальных благ** определяет структуру общества. Маркс считал, что вся история человечества представляет собой историю смены экономических формаций, где каждая новая система преодолевает противоречия предыдущей. Таким образом, капитализм возникает как результат разрушения феодальной системы, но сам он содержит в себе внутренние конфликты, ведущие к его трансформации.

Основным элементом марксистского проекта выступает **отсутствие эксплуатации труда**. В капиталистической системе рабочие создают **прибавочную стоимость**, которая присваивается капиталистами. Это порождает неравенство, где меньшинство владеет средствами производства, а большинство вынуждено продавать свою рабочую силу. Маркс утверждал, что устранение этой асимметрии возможно лишь при коллективной собственности на средства производства.

**Теория стоимости** играет важную роль в экономическом учении Маркса. Он считал, что стоимость товара должна определяться количеством общественно необходимого труда, затраченного на его производство. Однако в капитализме стоимость реализуется как прибыль, искажающая реальную ценность труда. Экономика будущего, по Марксу, должна базироваться на прямом соотношении между трудом и его продуктами, устраняя рыночные искажения.

Производство, организованное по марксистским принципам, предполагает **планирование в масштабе всего общества**. Вместо хаотичного распределения ресурсов через рынок должны быть установлены механизмы, обеспечивающие рациональное удовлетворение потребностей всех членов общества. Это требует не только коллективного управления, но и высокого уровня технологического развития, который, по Марксу, является предпосылкой социализма.

**Отказ от товарного фетишизма** занимает центральное место в марксистской критике капитализма. Он рассматривал товары не просто как вещи, а как носители общественных отношений, скрывающих эксплуатацию труда. В его представлении продукты труда должны быть распределены на основе потребностей, а не обменены на рынке. Это приводит к отказу от денег как универсального средства обмена и постепенному переходу к непосредственному распределению благ.

Важным условием социалистической экономики является **формирование нового типа сознания**. Маркс полагал, что экономические преобразования требуют изменения отношения людей к труду и собственности. Освобождение труда от эксплуатации должно сопровождаться развитием солидарности, коллективной ответственности и устранением индивидуалистических мотиваций, свойственных капитализму. Маркс считал, что человек, освобожденный от эксплуатации, сможет развивать свои способности и таланты, превращая труд из вынужденной необходимости в средство самореализации.

Важным аспектом марксистской экономики является представление о **развитии производительных сил** как необходимой предпосылке социализма. Маркс полагал, что только высокоразвитая индустриальная база может обеспечить материальные условия для общества, где каждый будет получать "по потребностям". Однако он также предостерегал, что технологии сами по себе не устранят эксплуатацию, если останутся в руках капитала.

Экономический проект Маркса — это система, в которой производство и распределение контролируются обществом в интересах всех, а не ради прибыли. Реализация этой идеи требует революции в общественных отношениях, что, в свою очередь, зависит от осознания рабочим классом своей роли в истории. Трудящиеся массы должны взять на себя управление производством. Этот процесс Маркс описывал как преодоление "царства необходимости" и переход к "царству свободы", где экономика будет служить интересам всех, а не немногих.`;

const prompt = `Текст статьи: ${TEXT};
  
  Напиши 7 тегов для статьи в разделе "Философия" под названием ${TITLE}.
    
  1. Главный источник генерации тегов – НАЗВАНИЕ, содержание статьи второстепенно.
  2. Теги скорее должны касаться затрагиваемого автора и раздела философии, а не "ключевых тем". Неправильно: "социальная ответственность", "человеческая природа", правильно: "Кант", "Ницше", "Этика Добродетели", "Новое Время".
  3. Чем короче тег, тем лучше. Неправильно: "Ведический Санскрит", правильно: "Веды", "Санскрит". Из имени философа оставляй только фамилию, неправильно: "Артур Шопенгауэр", правильно: "Шопенгауэр". Мне нужно, чтобы под тег подпадало много разных статей!
  4. Теги только с большой буквы.
  
  Формат ответа: ["Тег1", "Тег2", "Тег3", "Тег4", "Тег5"]`;

(async function GPTWork() {
  await fetch('https://api.openai.com/v1/chat/completions', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
      Authorization: `Bearer ${apiKey}`,
    },
    body: JSON.stringify({
      model: 'gpt-4o-mini',
      store: true,
      messages: [
        {
          role: 'user',
          content: prompt,
        },
      ],
    }),
  })
    .then((response) => {
      if (!response.ok) {
        throw new Error(`HTTP error! status: ${response.status}`);
      }
      return response.json();
    })
    .then((data) => {
      TAGS = data.choices[0].message.content;
      console.log(data);
      console.log('Text generated successfully. Model:', data.model);
    })
    .catch((error) => {
      console.error('Error:', error);
    });

  const fileContent = `${TAGS}`;

  // Создаем файл для скачивания
  const blob = new Blob([fileContent], { type: 'text/markdown' });
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = `TAGS.md`;
  a.click();
  URL.revokeObjectURL(url);
})();
